

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Time series &mdash; volue.mesh 1.11.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Mesh search language" href="mesh_search.html" />
    <link rel="prev" title="Mesh object modelling" href="mesh_modelling.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> volue.mesh
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Welcome</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="introduction_to_mesh.html">An introduction to Mesh</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="mesh_concepts.html">Mesh concepts</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="mesh_modelling.html">Mesh object modelling</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Time series</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#mesh-time-series">Mesh time series</a></li>
<li class="toctree-l4"><a class="reference internal" href="#resolution">Resolution</a></li>
<li class="toctree-l4"><a class="reference internal" href="#types">Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="#expressions">Expressions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="mesh_search.html">Mesh search language</a></li>
<li class="toctree-l3"><a class="reference internal" href="mesh_functions.html">Mesh functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="mesh_relations.html">Relations</a></li>
<li class="toctree-l3"><a class="reference internal" href="mesh_xy_sets.html">XY-sets in Mesh</a></li>
<li class="toctree-l3"><a class="reference internal" href="mesh_rating_curve.html">Rating curves</a></li>
<li class="toctree-l3"><a class="reference internal" href="mesh_session.html">Mesh session</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="mesh_server.html">Mesh server</a></li>
<li class="toctree-l2"><a class="reference internal" href="mesh_client.html">Mesh Python SDK</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="hydsim.html">HydSim</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="authentication.html">Client authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Versions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="versions.html">Versions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SDK Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api.html">API documentation</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">volue.mesh</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="introduction_to_mesh.html">An introduction to Mesh</a> &raquo;</li>
        
          <li><a href="mesh_concepts.html">Mesh concepts</a> &raquo;</li>
        
      <li>Time series</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/timeseries.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="time-series">
<h1>Time series<a class="headerlink" href="#time-series" title="Permalink to this heading">¶</a></h1>
<p>The primary data retrieved from the Mesh server is time series. A time series
is a sequence of data points that occur in successive order over some period of
time. They can represent different kinds of data depending on its properties.
For example: how much power a hydro plant generates at any given time or how
much water passes a gate per hour can be represented as a time series.</p>
<div class="section" id="mesh-time-series">
<h2>Mesh time series<a class="headerlink" href="#mesh-time-series" title="Permalink to this heading">¶</a></h2>
<p>Each point in Mesh time series contains the following fields:</p>
<ul class="simple">
<li><dl class="simple">
<dt><cite>utc_time</cite>:</dt><dd><ul>
<li><p>timestamp of the point (milliseconds since UNIX epoch 1970-01-01) in UTC</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><cite>flags</cite>:</dt><dd><ul>
<li><p>status flag, 32-bit flags providing extra information like: is the point
value correct or missing. See: <a class="reference internal" href="api.html#volue.mesh.Timeseries.PointFlags" title="volue.mesh.Timeseries.PointFlags"><code class="xref py py-meth docutils literal notranslate"><span class="pre">volue.mesh.Timeseries.PointFlags()</span></code></a>
When working with existing time series preserve the flags unless you have
a reason to set it to something else. When creating new time series, flags
can be set to the default, which is <cite>OK = 0</cite>.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><cite>value</cite>:</dt><dd><ul>
<li><p>double-precision floating point value of the point</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>Time series can contain large amounts of data. A common scenario is to retrieve
time series and process the data. That could mean copying or moving all the
data from one library to another, this can be both time consuming and memory
intensive. To alleviate these problems the Mesh Python SDK uses
<a class="reference external" href="https://arrow.apache.org/">Apache Arrow</a> to store the data. Apache Arrow
“is designed to both improve the performance of analytical algorithms and the
efficiency of moving data from one system or programming language to another”.
<a class="footnote-reference brackets" href="#id2" id="id1">1</a> Several data processing libraries are now supported for this format,
including <a class="reference external" href="https://arrow.apache.org/docs/python/numpy.html">numpy</a> and
<a class="reference external" href="https://arrow.apache.org/docs/python/pandas.html">pandas</a>.</p>
</div>
<div class="section" id="resolution">
<h2>Resolution<a class="headerlink" href="#resolution" title="Permalink to this heading">¶</a></h2>
<p>The resolution defines time step of the time series points. Some examples are
hourly or daily resolutions. A special type of resolution is <strong>breakpoint</strong>. It
means there is no time step restriction and points can be provided for any
timestamps.</p>
<a class="reference internal image-reference" href="_images/mesh_timeseries_resolution.png"><img alt="Mesh time series resolution example" src="_images/mesh_timeseries_resolution.png" style="width: 800px;" /></a>
</div>
<div class="section" id="types">
<h2>Types<a class="headerlink" href="#types" title="Permalink to this heading">¶</a></h2>
<p>There are 3 main types of time series in Mesh.</p>
<div class="section" id="physical-time-series">
<span id="mesh-physical-time-series"></span><h3>Physical time series<a class="headerlink" href="#physical-time-series" title="Permalink to this heading">¶</a></h3>
<p>Physical time series are stored (e.g.: in database) as points with timestamps,
flags and values. They are identified by unique <strong>time series keys</strong> and have
meta-information like:</p>
<ul class="simple">
<li><p>curve type</p></li>
<li><p>resolution</p></li>
<li><p>unit of measurement (which can be undefined)</p></li>
</ul>
<p>Physical time series can be connected to a Mesh object (via
<a class="reference internal" href="mesh_modelling.html#mesh-attribute"><span class="std std-ref">time series attribute</span></a>) either directly or as part of
a calculation.</p>
</div>
<div class="section" id="virtual-time-series">
<span id="mesh-virtual-time-series"></span><h3>Virtual time series<a class="headerlink" href="#virtual-time-series" title="Permalink to this heading">¶</a></h3>
<p>Virtual time series do not contain actual data points but an expression that is
used to compute data points as result. The
<a class="reference internal" href="#mesh-calc-expressions"><span class="std std-ref">expression</span></a> may reference other virtual or
physical time series or constants. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;##= %&#39;/TestResourceCatalog/physicalTimeSeries&#39; + 3</span><span class="se">\n</span><span class="s2">&quot;</span>
</pre></div>
</div>
<p>Both virtual and physical time series are not stored on Mesh model level, but
in a storage called <em>resources</em>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We strongly suggest to use calculation time series for new models.</p>
</div>
</div>
<div class="section" id="calculation-time-series">
<h3>Calculation time series<a class="headerlink" href="#calculation-time-series" title="Permalink to this heading">¶</a></h3>
<p>Calculation time series is similar to virtual time series, but they are
a newer concept and are more flexible. They do not contain actual data points
but an <a class="reference internal" href="#mesh-calc-expressions"><span class="std std-ref">expression</span></a> that may reference other time
series types, attribute values or constants. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;##= @d(&#39;.DoubleAttribute&#39;) + @t(&#39;.TimeSeriesAttributePhysical&#39;) + @t(&#39;...TimeSeriesAttributeCalculation&#39;)</span><span class="se">\n</span><span class="s2">&quot;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The important difference is that calculation time series use model paths in
calculation expressions whereas virtual time series may only use in
calculation expressions other virtual or physical time series from the
<em>resources</em>. As a result calculation time series may also use in
expressions other attribute types, like for example an attribute of type
double.</p>
</div>
</div>
</div>
<div class="section" id="expressions">
<span id="mesh-calc-expressions"></span><h2>Expressions<a class="headerlink" href="#expressions" title="Permalink to this heading">¶</a></h2>
<p>Virtual or calculation time series expressions can use also functions like sum
all values in a time series, find values and status for a time series at
a given historical time, transform time series values from one resolution to
another and many more. These functions are loosely arranged into groups
representing a theme for those functions. Refer to
<a class="reference internal" href="mesh_functions.html"><span class="doc">Mesh functions</span></a> for more information.</p>
<p>For more information on calculation time series expressions refer to
<a class="reference internal" href="mesh_search.html"><span class="doc">search language</span></a> which is used to traverse the Mesh model
to find specific objects or attributes provided in the expressions. One might
want to find the water level for all reservoirs in a specific area in a given
time interval. To be able to search for something in the Mesh model one
needs to define a Mesh object to start searching from and the criteria for the
objects one wants to find. The criteria can be defined using a specific
<strong>search syntax</strong>.</p>
<p class="rubric">Footnotes</p>
<dl class="footnote brackets">
<dt class="label" id="id2"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p><a class="reference external" href="https://arrow.apache.org/overview/">https://arrow.apache.org/overview/</a></p>
</dd>
</dl>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="mesh_search.html" class="btn btn-neutral float-right" title="Mesh search language" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="mesh_modelling.html" class="btn btn-neutral float-left" title="Mesh object modelling" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2024, Volue AS.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>